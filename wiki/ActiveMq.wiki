= Installing ActiveMq =

ActiveMQ is an open source Java JMS message queue. It supports the Stomp protocol, which !ActiveMessaging uses to send and receive messages. We hope to support more protocols soon, but for the moment ActiveMQ is the transport of choice.

To get a Stomp-talking ActiveMQ on your developer box, try this  
page: [http://www.activemq.org/site/getting-started.html Getting Started with ActiveMQ]

Use a version 4.1 Snapshot release of ActiveMQ to get Stomp support, and the amazing status web page. Otherwise the AM things refused to work for me (Olle).

The version I used was: apache-activemq-4.1-incubator-SNAPSHOT

Edit {{{conf/activemq.xml}}} and add the following connector, the port number 61613 is important:

{{{
<connector>
  <serverTransport uri="stomp://localhost:61613"/>
</connector>
}}}

Start ActiveMQ 
{{{
cd activemq
./activemq
}}}

You should see this <INSERT SOME LOG HERE>

Start messsage consumers with the following command:

{{{
rake activemessaging:start_consumers
}}}

This will start all the Processors in your rails application. If you like, you can open another command prompt and run this command again. This will start more consumers, and the messages will be load balanced across all the running consumers.

Send off some test messages with:

{{{
ruby script/testsend.rb
}}}